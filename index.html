<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Book My Walks - Your Reliable Dog Walker in San Francisco</title>
    <meta name="theme-color" content="#FF6B35">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #FF6B35;
            --primary-dark: #E85A2A;
            --cream: #FFF8F0;
            --white: #FFFFFF;
            --text: #2D2D2D;
            --text-light: #666666;
            --success: #4CAF50;
            --warning: #FFC107;
            --border: #E0E0E0;
            --shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Outfit', sans-serif;
            background: var(--cream);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.5;
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        header {
            text-align: center;
            padding: 30px 0;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            letter-spacing: -1px;
        }
        
        .logo span {
            color: var(--text);
        }
        
        .tagline {
            color: var(--text-light);
            font-size: 0.95rem;
            margin-top: 4px;
        }
        
        /* Tab Switcher */
        .tab-switcher {
            display: flex;
            background: var(--white);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 24px;
            box-shadow: var(--shadow);
        }
        
        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            font-family: inherit;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            background: var(--primary);
            color: white;
        }
        
        /* Views */
        .view {
            display: none;
        }
        
        .view.active {
            display: block;
        }
        
        /* Form Styles */
        .card {
            background: var(--white);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--text);
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-group label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-light);
            margin-bottom: 6px;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        /* Service Options */
        .service-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .service-option {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .service-option:hover {
            border-color: var(--primary);
        }
        
        .service-option.selected {
            border-color: var(--primary);
            background: rgba(255, 107, 53, 0.08);
        }
        
        .service-option input {
            display: none;
        }
        
        .service-radio {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: 50%;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .service-option.selected .service-radio {
            border-color: var(--primary);
        }
        
        .service-option.selected .service-radio::after {
            content: '';
            width: 10px;
            height: 10px;
            background: var(--primary);
            border-radius: 50%;
        }
        
        .service-info {
            flex: 1;
        }
        
        .service-name {
            font-weight: 600;
            font-size: 1rem;
        }
        
        .service-price {
            font-size: 0.85rem;
            color: var(--text-light);
        }
        
        /* Time Slots */
        .time-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }
        
        .time-slot {
            padding: 10px;
            border: 2px solid var(--border);
            border-radius: 8px;
            text-align: center;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .time-slot:hover:not(.unavailable) {
            border-color: var(--primary);
        }
        
        .time-slot.selected {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }
        
        .time-slot.unavailable {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        /* Submit Button */
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-family: inherit;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .submit-btn:hover {
            background: var(--primary-dark);
        }
        
        /* Payment Info */
        .payment-info {
            background: var(--cream);
            border-radius: 12px;
            padding: 16px;
            margin-top: 16px;
        }
        
        .payment-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .payment-option {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
        }
        
        .payment-option strong {
            min-width: 60px;
        }
        
        /* Success */
        .success-card {
            text-align: center;
            padding: 40px 24px;
        }
        
        .success-icon {
            font-size: 4rem;
            margin-bottom: 16px;
        }
        
        .success-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--success);
        }
        
        .success-text {
            color: var(--text-light);
            margin-bottom: 24px;
        }
        
        /* Dashboard */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .stat-card {
            background: var(--white);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.75rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .booking-card {
            background: var(--white);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: var(--shadow);
        }
        
        .booking-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .booking-service {
            font-weight: 600;
            color: var(--primary);
        }
        
        .booking-status {
            font-size: 0.75rem;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .booking-status.pending {
            background: var(--warning);
            color: var(--text);
        }
        
        .booking-status.paid {
            background: var(--success);
            color: white;
        }
        
        .booking-details {
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        .booking-details div {
            margin-bottom: 4px;
        }
        
        .booking-dog-photo {
            margin: 8px 0;
            border-radius: 8px;
            overflow: hidden;
            max-width: 120px;
        }
        
        .booking-dog-photo img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .booking-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        
        .booking-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
        }
        
        .booking-btn.mark-paid {
            background: var(--success);
            color: white;
        }
        
        .booking-btn.cancel {
            background: #FF5252;
            color: white;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px;
            color: var(--text-light);
        }
        
        .empty-icon {
            font-size: 3rem;
            margin-bottom: 12px;
        }
        
        /* Hidden */
        .hidden {
            display: none !important;
        }
        
        .photo-preview {
            margin-top: 12px;
            border-radius: 12px;
            overflow: hidden;
            max-width: 200px;
        }
        
        .photo-preview img {
            width: 100%;
            height: auto;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Book My Walks</div>
            <p class="tagline">Your reliable Dog Walker in San Francisco</p>
        </header>
        
        <div class="tab-switcher">
            <button class="tab-btn active" onclick="switchTab('book')">Book a Walk</button>
            <button class="tab-btn" onclick="switchTab('dashboard')">Walker Dashboard</button>
        </div>
        
        <!-- Booking View -->
        <div id="bookView" class="view active">
            <form id="bookingForm" onsubmit="submitBooking(event)">
                <div class="card">
                    <div class="card-title">üêï Select Service</div>
                    <div class="service-options">
                        <label class="service-option selected" onclick="selectService(this)">
                            <input type="radio" name="service" value="30min" checked>
                            <span class="service-radio"></span>
                            <div class="service-info">
                                <div class="service-name">30-Minute Walk</div>
                                <div class="service-price">$20</div>
                            </div>
                        </label>
                        <label class="service-option" onclick="selectService(this)">
                            <input type="radio" name="service" value="60min">
                            <span class="service-radio"></span>
                            <div class="service-info">
                                <div class="service-name">1-Hour Walk</div>
                                <div class="service-price">$35</div>
                            </div>
                        </label>
                        <label class="service-option" onclick="selectService(this)">
                            <input type="radio" name="service" value="boarding">
                            <span class="service-radio"></span>
                            <div class="service-info">
                                <div class="service-name">Boarding (per day)</div>
                                <div class="service-price">$75</div>
                            </div>
                        </label>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">üìÖ Pick a Date & Time</div>
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="bookingDate" required>
                    </div>
                    <div class="form-group">
                        <label>Preferred Time</label>
                        <div class="time-grid" id="timeSlots"></div>
                        <input type="hidden" id="selectedTime" required>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">üê∂ You & Your Dog</div>
                    <div class="form-group">
                        <label>Your Name *</label>
                        <input type="text" id="ownerName" required placeholder="Your name">
                    </div>
                    <div class="form-group">
                        <label>Phone *</label>
                        <input type="tel" id="ownerPhone" required placeholder="(415) 123-4567">
                    </div>
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="ownerEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Address for Pickup *</label>
                        <textarea id="pickupAddress" required placeholder="Full address for dog pickup"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Emergency Contact</label>
                        <input type="text" id="emergencyContact" placeholder="Name & phone">
                    </div>
                    <hr style="border: none; border-top: 1px solid var(--border); margin: 20px 0;">
                    <div class="form-group">
                        <label>Dog Photo</label>
                        <input type="file" id="dogPhoto" accept="image/*" capture="environment" onchange="previewDogPhoto(event)">
                        <div id="dogPhotoPreview" class="photo-preview hidden"></div>
                    </div>
                    <div class="form-group">
                        <label>Dog's Name *</label>
                        <input type="text" id="dogName" required placeholder="e.g., Max">
                    </div>
                    <div class="form-group">
                        <label>Breed</label>
                        <input type="text" id="dogBreed" placeholder="e.g., Golden Retriever">
                    </div>
                    <div class="form-group">
                        <label>Size</label>
                        <select id="dogSize">
                            <option value="">Select size...</option>
                            <option value="small">Small (under 20 lbs)</option>
                            <option value="medium">Medium (20-50 lbs)</option>
                            <option value="large">Large (50+ lbs)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Special Notes (behavior, medical, etc.)</label>
                        <textarea id="dogNotes" placeholder="Any behavioral issues, medical conditions, or special needs?"></textarea>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">üí≥ Payment</div>
                    <p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 16px;">Pay directly to your walker when service is completed.</p>
                    <div class="payment-info">
                        <div class="payment-title">üí∞ Payment Options</div>
                        <div class="payment-options">
                            <div class="payment-option">
                                <strong>Venmo:</strong> @georgexmeta
                            </div>
                            <div class="payment-option">
                                <strong>Zelle:</strong> George Tinoco (415) 324-0599
                            </div>
                            <div class="payment-option">
                                <strong>Apple Pay:</strong> (415) 324-0599
                            </div>
                            <div class="payment-option">
                                <strong>Cash:</strong> In Person
                            </div>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn">üì® Request Booking</button>
            </form>
            
            <!-- Success -->
            <div id="successView" class="card hidden">
                <div class="success-card">
                    <div class="success-icon">üéâ</div>
                    <div class="success-title">Booking Requested!</div>
                    <p class="success-text">George will review your request and text you to confirm or discuss any adjustments (like timing changes). He can't wait to meet your pup! üêï</p>
                    <button class="submit-btn" onclick="resetForm()">Book Another Walk</button>
                </div>
            </div>
        </div>
        
        <!-- Dashboard View -->
        <div id="dashboardView" class="view">
            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-number" id="totalBookings">0</div>
                    <div class="stat-label">Total</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingBookings">0</div>
                    <div class="stat-label">Pending</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="paidBookings">0</div>
                    <div class="stat-label">Paid</div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">üìã Upcoming Bookings</div>
                <div id="bookingsList"></div>
            </div>
            
            <button class="submit-btn" onclick="clearAllBookings()" style="background: #FF5252; margin-top: 20px;">Clear All Bookings</button>
        </div>
    </div>
    
    <script>
        // Storage key
        const STORAGE_KEY = 'bmw_bookings';
        
        // Service prices
        const servicePrices = {
            '30min': '$25',
            '60min': '$40',
            'boarding': '$65'
        };
        
        const serviceNames = {
            '30min': '30-Minute Walk',
            '60min': '1-Hour Walk',
            'boarding': 'Boarding (per day)'
        };
        
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.view').forEach(view => view.classList.remove('active'));
            
            if (tab === 'book') {
                document.querySelectorAll('.tab-btn')[0].classList.add('active');
                document.getElementById('bookView').classList.add('active');
            } else {
                document.querySelectorAll('.tab-btn')[1].classList.add('active');
                document.getElementById('dashboardView').classList.add('active');
                loadDashboard();
            }
        }
        
        // Service selection
        function selectService(el) {
            document.querySelectorAll('.service-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
            el.querySelector('input').checked = true;
            generateTimeSlots(); // Regenerate slots based on new service duration
        }
        
        // Dog photo preview
        function previewDogPhoto(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('dogPhotoPreview');
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = '<img src="' + e.target.result + '" alt="Dog photo">';
                    preview.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            } else {
                preview.classList.add('hidden');
                preview.innerHTML = '';
            }
        }
        
        // Get service duration in minutes
        function getServiceDuration(serviceValue) {
            const durations = { '30min': 30, '60min': 60, 'boarding': 0 };
            return durations[serviceValue] || 60;
        }
        
        // Convert time string to minutes since midnight
        function timeToMinutes(timeStr) {
            const match = timeStr.match(/(\d+):(\d+)\s*(AM|PM)/i);
            if (!match) return 0;
            
            let hours = parseInt(match[1]);
            const minutes = parseInt(match[2]);
            const period = match[3].toUpperCase();
            
            if (period === 'PM' && hours !== 12) hours += 12;
            if (period === 'AM' && hours === 12) hours = 0;
            
            return hours * 60 + minutes;
        }
        
        // Convert minutes to time string
        function minutesToTime(minutes) {
            const hours = Math.floor(minutes / 60);
            const mins = minutes % 60;
            const period = hours >= 12 ? 'PM' : 'AM';
            const displayHours = hours === 0 ? 12 : (hours > 12 ? hours - 12 : hours);
            return displayHours + ':' + mins.toString().padStart(2, '0') + ' ' + period;
        }
        
        // Get booked times for a date
        function getBookedTimes(date) {
            const bookings = getBookings();
            return bookings
                .filter(b => b.date === date && b.status !== 'cancelled')
                .map(b => ({
                    time: b.time,
                    duration: getServiceDuration(b.service)
                }));
        }
        
        // Generate time slots based on bookings and buffer
        function generateTimeSlots() {
            const date = document.getElementById('bookingDate').value;
            const container = document.getElementById('timeSlots');
            const bookedTimes = date ? getBookedTimes(date) : [];
            
            // Find which hour slots are booked (for determining if :30 shows)
            const bookedHourSlots = new Set();
            bookedTimes.forEach(booking => {
                const startMins = timeToMinutes(booking.time);
                const hourSlot = Math.floor(startMins / 60) * 60; // Round down to hour
                bookedHourSlots.add(hourSlot);
            });
            
            // Block times: booked slots + 30 min buffer after each
            const blockedTimes = new Set();
            bookedTimes.forEach(booking => {
                const startMins = timeToMinutes(booking.time);
                const endMins = startMins + (booking.duration || 30);
                // Block the booked slot and 30 min buffer after
                for (let m = startMins; m < endMins + 30; m += 30) {
                    blockedTimes.add(m);
                }
            });
            
            // Generate slots: start with :00, add :30 only if hour is booked
            const slots = [];
            for (let mins = 7 * 60; mins <= 19 * 60; mins += 60) {
                // Always add the hour slot
                slots.push({ mins, type: 'hour' });
                
                // Add :30 only if the hour slot before it is booked
                if (bookedHourSlots.has(mins)) {
                    slots.push({ mins: mins + 30, type: 'half' });
                }
            }
            
            // Generate HTML
            container.innerHTML = slots.map(slot => {
                const timeStr = minutesToTime(slot.mins);
                const isBlocked = blockedTimes.has(slot.mins);
                const unavailableClass = isBlocked ? 'unavailable' : '';
                const onclick = isBlocked ? '' : `onclick="selectTime(this, '${timeStr}')"`;
                return `<div class="time-slot ${unavailableClass}" ${onclick}>${timeStr}</div>`;
            }).join('');
            
            // Reset selection
            selectedTime = null;
            document.getElementById('selectedTime').value = '';
        }
        
        // Initialize - set min date and generate time slots
        document.getElementById('bookingDate').min = new Date().toISOString().split('T')[0];
        document.getElementById('bookingDate').addEventListener('change', generateTimeSlots);
        generateTimeSlots();
        
        // Time selection
        let selectedTime = null;
        function selectTime(el, time) {
            if (el.classList.contains('unavailable')) return;
            
            document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));
            el.classList.add('selected');
            selectedTime = time;
            document.getElementById('selectedTime').value = time;
        }
        
        // Set min date to today
        document.getElementById('bookingDate').min = new Date().toISOString().split('T')[0];
        
        // Get bookings from storage
        function getBookings() {
            const data = localStorage.getItem(STORAGE_KEY);
            return data ? JSON.parse(data) : [];
        }
        
        // Save booking
        function saveBooking(booking) {
            const bookings = getBookings();
            booking.id = Date.now();
            booking.status = 'pending';
            booking.createdAt = new Date().toISOString();
            bookings.push(booking);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(bookings));
            return booking;
        }
        
        // Submit booking
        function submitBooking(e) {
            e.preventDefault();
            
            const booking = {
                service: document.querySelector('input[name="service"]:checked').value,
                date: document.getElementById('bookingDate').value,
                time: document.getElementById('selectedTime').value,
                dog: {
                    name: document.getElementById('dogName').value,
                    breed: document.getElementById('dogBreed').value,
                    size: document.getElementById('dogSize').value,
                    notes: document.getElementById('dogNotes').value,
                    photo: document.getElementById('dogPhotoPreview').innerHTML
                },
                owner: {
                    name: document.getElementById('ownerName').value,
                    phone: document.getElementById('ownerPhone').value,
                    email: document.getElementById('ownerEmail').value,
                    address: document.getElementById('pickupAddress').value,
                    emergency: document.getElementById('emergencyContact').value
                }
            };
            
            saveBooking(booking);
            
            // Show success
            document.getElementById('bookingForm').classList.add('hidden');
            document.getElementById('successView').classList.remove('hidden');
            
            // In production, this would send an email
            console.log('Booking submitted:', booking);
        }
        
        // Reset form
        function resetForm() {
            document.getElementById('bookingForm').reset();
            document.getElementById('bookingForm').classList.remove('hidden');
            document.getElementById('successView').classList.add('hidden');
            document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));
            selectedTime = null;
        }
        
        // Load dashboard
        function loadDashboard() {
            const bookings = getBookings();
            
            // Sort by date
            bookings.sort((a, b) => new Date(a.date) - new Date(b.date));
            
            // Stats
            document.getElementById('totalBookings').textContent = bookings.length;
            document.getElementById('pendingBookings').textContent = bookings.filter(b => b.status === 'pending').length;
            document.getElementById('paidBookings').textContent = bookings.filter(b => b.status === 'paid').length;
            
            // Bookings list
            const list = document.getElementById('bookingsList');
            
            if (bookings.length === 0) {
                list.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üêï</div>
                        <p>No bookings yet</p>
                    </div>
                `;
                return;
            }
            
            list.innerHTML = bookings.map(booking => `
                <div class="booking-card">
                    <div class="booking-header">
                        <span class="booking-service">${serviceNames[booking.service]} - ${servicePrices[booking.service]}</span>
                        <span class="booking-status ${booking.status}">${booking.status === 'pending' ? '‚è≥ Pending' : '‚úÖ Paid'}</span>
                    </div>
                    <div class="booking-details">
                        <div>üìÖ ${booking.date} at ${booking.time}</div>
                        <div>üêï ${booking.dog.name} ${booking.dog.breed ? `(${booking.dog.breed})` : ''}</div>
                        ${booking.dog.photo ? `<div class="booking-dog-photo">${booking.dog.photo}</div>` : ''}
                        <div>üë§ ${booking.owner.name} - ${booking.owner.phone}</div>
                        <div>üìç ${booking.owner.address}</div>
                        ${booking.dog.notes ? `<div>üìù Notes: ${booking.dog.notes}</div>` : ''}
                    </div>
                    <div class="booking-actions">
                        ${booking.status === 'pending' ? `<button class="booking-btn mark-paid" onclick="markPaid(${booking.id})">‚úÖ Mark Paid</button>` : ''}
                        <button class="booking-btn cancel" onclick="cancelBooking(${booking.id})">‚ùå Cancel</button>
                    </div>
                </div>
            `).join('');
        }
        
        // Mark as paid
        function markPaid(id) {
            const bookings = getBookings();
            const booking = bookings.find(b => b.id === id);
            if (booking) {
                booking.status = 'paid';
                localStorage.setItem(STORAGE_KEY, JSON.stringify(bookings));
                loadDashboard();
            }
        }
        
        // Cancel booking
        function cancelBooking(id) {
            if (!confirm('Cancel this booking?')) return;
            
            let bookings = getBookings();
            bookings = bookings.filter(b => b.id !== id);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(bookings));
            loadDashboard();
        }
        
        // Clear all
        function clearAllBookings() {
            if (!confirm('Delete ALL bookings? This cannot be undone.')) return;
            localStorage.removeItem(STORAGE_KEY);
            loadDashboard();
        }
    </script>
</body>
</html>
